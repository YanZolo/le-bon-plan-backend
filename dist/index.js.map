{"version":3,"sources":["../src/index.ts"],"names":["dotenv","express","productRoutes","userRoutes","versionRoutes","startDB","path","fileURLToPath","app","url","process","env","DB_URL","__filename","import","meta","__dirname","dirname","config","PORT","disable","set","join","use","json","urlencoded","extended","get","req","res","render","send","connect","then","listen","console","log","catch","err","error"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AACA,OAAOC,OAAP,MAAwD,SAAxD;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,aAAT,QAA8B,KAA9B;AACA,MAAMC,GAAgB,GAAGP,OAAO,EAAhC;AACA,MAAMQ,GAAuB,GAAGC,OAAO,CAACC,GAAR,CAAYC,MAA5C;;AACA,MAAMC,UAAkB,GAAGN,aAAa,CAACO,MAAM,CAACC,IAAP,CAAYN,GAAb,CAAxC;;AACA,MAAMO,SAAiB,GAAGV,IAAI,CAACW,OAAL,CAAaJ,UAAb,CAA1B;;AACAb,MAAM,CAACkB,MAAP;AACA,MAAMC,IAAiC,GAAGT,OAAO,CAACC,GAAR,CAAYQ,IAAZ,IAAoB,IAA9D;AAEAX,GAAG,CAACY,OAAJ,CAAY,cAAZ;AACAZ,GAAG,CAACa,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AACAb,GAAG,CAACa,GAAJ,CAAQ,OAAR,EAAiBf,IAAI,CAACgB,IAAL,CAAUN,SAAV,EAAqB,IAArB,EAA2B,OAA3B,CAAjB;AAEAR,GAAG,CAACe,GAAJ,CAAQtB,OAAO,CAACuB,IAAR,EAAR;AACAhB,GAAG,CAACe,GAAJ,CAAQtB,OAAO,CAACwB,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AACAlB,GAAG,CAACe,GAAJ,CAAQ,GAAR,EAAanB,aAAb;AACAI,GAAG,CAACe,GAAJ,CAAQ,UAAR,EAAoBrB,aAApB;AACAM,GAAG,CAACe,GAAJ,CAAQ,OAAR,EAAiBpB,UAAjB;AAEAK,GAAG,CAACmB,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAeC,GAAf,KAAiC;AAC5CA,EAAAA,GAAG,CAACC,MAAJ,CAAW,OAAX;AACD,CAFD;AAGAtB,GAAG,CAACmB,GAAJ,CAAQ,SAAR,EAAmB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC/BA,EAAAA,GAAG,CAACE,IAAJ,CAAS,IAAT;AACD,CAFD;;AAIC,UAASC,OAAT,GAAmB;AAClB3B,EAAAA,OAAO,CAACI,GAAD,CAAP,CACGwB,IADH,CACQ,MAAM;AACVzB,IAAAA,GAAG,CAAC0B,MAAJ,CAAWf,IAAX,EAAiB,MAAM;AACrBgB,MAAAA,OAAO,CAACC,GAAR,CAAa,0BAAyBjB,IAAK,EAA3C;AACD,KAFD;AAGD,GALH,EAMGkB,KANH,CAMSC,GAAG,IAAI;AACZH,IAAAA,OAAO,CAACI,KAAR,CAAcD,GAAd;AACD,GARH;AASD,CAVA,GAAD","sourcesContent":["import dotenv from 'dotenv';\nimport express, { Application, Request, Response } from 'express';\nimport productRoutes from './controllers/products/routes.js';\nimport userRoutes from './controllers/users/routes.js';\nimport versionRoutes from './controllers/version/routes.js';\nimport startDB from './db/connect.js';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\nconst app: Application = express();\nconst url: string | undefined = process.env.DB_URL;\nconst __filename: string = fileURLToPath(import.meta.url);\nconst __dirname: string = path.dirname(__filename);\ndotenv.config();\nconst PORT: string | number | undefined = process.env.PORT || 8888;\n\napp.disable('x-powered-by'); \napp.set('view engine', 'ejs');\napp.set('views', path.join(__dirname, '..', 'views'));\n\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use('/', versionRoutes);\napp.use('/product', productRoutes);\napp.use('/user', userRoutes);\n\napp.get('/', (req: Request, res: Response) => {\n  res.render('login');\n});\napp.get('/health', (req, res) => {\n  res.send('ok');\n});\n\n(function connect() {\n  startDB(url!)\n    .then(() => {\n      app.listen(PORT, () => {\n        console.log(`server started at port ${PORT}`)\n      })\n    })\n    .catch(err => {\n      console.error(err)\n    })\n}())\n\n\n"],"file":"index.js"}